<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Posts</title>
</head>
<body>
<h1>Post Ajax</h1>
<ul id="lstPosts">

</ul>
<script>
    let posts=[]
    let ulPosts=document.getElementById(("lstPosts"))
    fetch('/api/posts')
    .then(response=>{
        if(response.status===200)
        {
            try{
                return response.json()
            }
            catch(e)
            {
                throw new Error("Json Error")
            }
        }
    })
    .then(data=>{
        console.log(data)
        ulPosts.innerHTML=""
        data.map(post=>{
            let li=document.createElement("li")
            li.innerText=post.title
            ulPosts.appendChild(li)
        })
    })

</script>
</body>
</html>